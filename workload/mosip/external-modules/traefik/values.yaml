ansibleenv:
  zone_compartment_id: <path:ocivault#zone_compartment_id#latest | base64decode>
  domain: <path:ocivault#openg2p_domain#latest | base64decode>

domain_ssl_secret_name: <path:ocivault#openg2p_domain_ssl_secret_name#latest | base64decode>


traefik:
  globalArguments:
  - "--api.insecure=true"
  - "--api.dashboard=true"
  ingressRoute:
    dashboard:
      enabled: true
  ports:
    web:
      redirectTo:
        port: websecure
    # websecure:
    #   forwardedHeaders:
    #     insecure: true
    #   proxyProtocol:
    #     insecure: true
    #   tls:
    #     enabled: false
  service:
    annotations:
      oci.oraclecloud.com/load-balancer-type: lb
      oci.oraclecloud.com/ingress-ip-mode: "Proxy"
      service.beta.kubernetes.io/oci-load-balancer-backend-protocol: HTTP
      service.beta.kubernetes.io/oci-load-balancer-shape: flexible
      service.beta.kubernetes.io/oci-load-balancer-shape-flex-max: "100"
      service.beta.kubernetes.io/oci-load-balancer-shape-flex-min: "10"
      service.beta.kubernetes.io/oci-load-balancer-ssl-ports: "443"
      service.beta.kubernetes.io/oci-load-balancer-tls-secret: <path:ocivault#openg2p_domain_ssl_secret_name#latest | base64decode>
      service.beta.kubernetes.io/oci-load-balancer-subnet1: <path:ocivault#mosip_public_lb_subnet_id#latest | base64decode>
      oci.oraclecloud.com/oci-network-security-groups: <path:ocivault#mosip_public_lb_nsg_id#latest | base64decode>
      oci.oraclecloud.com/security-rule-management-mode: "None"  
    type: LoadBalancer