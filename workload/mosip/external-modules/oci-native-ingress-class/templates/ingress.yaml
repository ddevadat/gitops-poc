apiVersion: "ingress.oraclecloud.com/v1beta1"
kind: IngressClassParameters
metadata:
  name: native-ic-params
spec:
  compartmentId: {{ .Values.compartment_id }}  
  subnetId: {{ .Values.subnet_id }}  
  loadBalancerName: "native-ic-lb-nsg"
  isPrivate: false
  maxBandwidthMbps: 400
  minBandwidthMbps: 100

---

apiVersion: networking.k8s.io/v1
kind: IngressClass
metadata:
  name: native-ic-ingress-class
  annotations:
    {{- with .Values.ingress_class_annotations }}
    {{- toYaml . | nindent 4 }}
    {{- end }}
spec:
  controller: oci.oraclecloud.com/native-ingress-controller
  parameters:
    scope: Namespace
    namespace: native-ingress-controller-system
    apiGroup: ingress.oraclecloud.com
    kind: ingressclassparameters
    name: native-ic-params
